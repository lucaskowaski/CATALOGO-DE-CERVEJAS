
<h2 class="mt-3">Calcular Insumos</h2>
<div *ngIf="errorMessage" class="alert alert-danger">
    {{errorMessage}}
</div>
<div *ngIf="sucessMessage" class="alert alert-success">
    {{sucessMessage}}
</div>
<form (ngSubmit)="some(form)" #form="ngForm">
    <div class="row">
        <div class="col-md-4 form-group">
            <label class="label">Cerveja</label>
            <select #_selectedBeer="ngModel" required (change)="onSelectBeer($event)" [(ngModel)]="selectedBeer"
                name="_selectedBeer" class="form-control">
                <option *ngFor="let beer of beers" [ngValue]="beer"> {{beer.name}}</option>
            </select>
            <input-errors [field]="_selectedBeer"></input-errors>
        </div>
        <div class="col-md-4 form-group">
            <label class="label">Receita</label>
            <select required #_selectedRecipe="ngModel" [(ngModel)]="selectedRecipe"
                name="_selectedRecipe" class="form-control">
                <option *ngFor="let recipe of recipes" [ngValue]="recipe"> {{recipe.bottleSize}} ML</option>
            </select>
            <input-errors [field]="_selectedRecipe"></input-errors>
        </div>
        <div class="col-md-4 form-group">
            <label class="label">Quantidade de Garrafas</label>
            <input #_amountOfBottles="ngModel" [(ngModel)]="amountOfBottles" name="_amountOfBottles" required
                type="number" class="form-control">
                <input-errors [field]="_amountOfBottles"></input-errors>
        </div>
    </div>
    <button type="submit" class="btn btn-success mr-2">Cacular</button>
</form>

<h2 class="mt-3">Total de Insumos</h2>
<table class="table">
    <thead class="thead-light">
        <tr>
            <th>Insumo</th>
            <th>Quantidade Total</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let ingredient of totalIngerdients">
            <td>{{ingredient.ingredientName}}</td>
            <td>{{ingredient.total}}</td>
        </tr>
    </tbody>
</table>